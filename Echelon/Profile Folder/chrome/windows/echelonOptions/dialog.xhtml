<?xml version="1.0"?>

<dialog id="echelonOptionsDialog"
        buttonpack="end"
        buttons="accept,cancel"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        title="">
    <linkset>
        <html:link rel="stylesheet" href="chrome://global/skin/global.css" />
        <html:link rel="stylesheet" href="chrome://global/content/commonDialog.css" />
        <html:link rel="stylesheet" href="chrome://global/skin/commonDialog.css" />
    </linkset>

    <script>
        let args = window.arguments[0];
        let g_dialog = document.documentElement;
        window.addEventListener("DOMContentLoaded", function()
        {
            // init icon
            let iconEl = document.querySelector("#infoIcon");
            if (args.icon == "warning")
            {
                iconEl.classList.add("alert-icon");
            }
            else if (args.icon = "question")
            {
                iconEl.classList.add("question-icon");
            }
            else if (args.icon = "authentication")
            {
                iconEl.classList.add("authentication-icon");
            }

            // init text
            document.documentElement.setAttribute("title", args.title || "Message");
            document.getElementById("infoBody").value = args.message;

            if (args.acceptButtonText)
            {
                g_dialog.getButton("accept").setAttribute("label", args.acceptButtonText);
            }
            if (args.cancelButtonText)
            {
                g_dialog.getButton("cancel").setAttribute("label", args.cancelButtonText);
            }
        });
        window.addEventListener("dialogaccept", function ()
        {
            args.accepted = true;
        });
    </script>

    <div xmlns="http://www.w3.org/1999/xhtml" id="dialogGrid">
        <div class="dialogRow" id="infoRow">
            <div id="iconContainer">
                <xul:image id="infoIcon" />
            </div>
            <div id="infoContainer">
                <xul:description id="infoTitle" style="display:none" />
                <xul:description id="infoBody" context="contentAreaContextMenu" noinitialfocus="true" />
            </div>
        </div>
    </div>
</dialog>